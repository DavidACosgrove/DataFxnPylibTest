{"executorId":0,"id":"33611201-5413-4fe1-8092-7d8203be8fd9","dataFxnDefId":"0df8f3c7-f3b9-f98d-7285-c74791149f7f","serviceName":"Script","assembly":null,"inputFields":{"structureColumn":{"id":"structureColumn","dataType":"string","contentType":null,"selectorType":"column","data":"74efa0d3-54d5-44b0-8ebf-13ded7bd0d7bsMolecule SMILES"}},"maximumOutputColumns":10,"maximumOutputTables":1,"resultTables":null,"serviceUri":"glysade.python","inputColumns":{"74efa0d3-54d5-44b0-8ebf-13ded7bd0d7bsMolecule SMILES":{"dataType":"string","name":"Molecule SMILES","contentType":"chemical/x-daylight-smiles","properties":{"Name":"Molecule SMILES","ColumnType":"Imported","DataType":"String","ExternalName":"Molecule SMILES","IsValid":"True","Expression":"","Comparer":"Spotfire.Dxp.Data.Cxx.StringDataComparer","Formatter":"Spotfire.Dxp.Data.Formatters.StringFormatter","Origin":"AZ_Pyrrolamides_4OE_noqualifiers","Description":"","Dimension":""},"values":["c1cc(c(nc1)N2CCC(CC2)NC(=O)c3cc(c([nH]3)Cl)Cl)[N+](=O)[O-]","CC(C)c1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c(cccn3)[N+](=O)[O-])Br","CCOC(=O)c1cc(nc(c1C#N)N2CCC(CC2)NC(=O)c3cc(c([nH]3)C)Br)C","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c(cccn3)C#N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3ccc4ccccc4n3)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c(ccc(n3)OC)[N+](=O)[O-])Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(ccn3)C#N)Br","Cc1cc(nc(n1)N2CCC(CC2)NC(=O)c3cc(c([nH]3)C)Br)C(=O)OC","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3ncccn3)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3ccc(cn3)C(F)(F)F)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3ccc(cn3)C(=O)N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cccc(n3)Br)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c4c(nc[nH]4)ncn3)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C#N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(ccn3)c4[nH]nnn4)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c(ccc[n+]3[O-])O)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cccc(n3)C(F)(F)F)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c(ccc(n3)C(F)(F)F)C(=O)N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c(ccc(n3)C(F)(F)F)C#N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3nccs3)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3nc4ccccc4s3)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cccc(n3)Cl)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cccc(n3)OC)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)Cl","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3ccc(c(n3)Cl)C(=O)O)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NC4CC4)Br","CCc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NC)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NCC(=O)OC)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)c4[nH]nnn4)Br","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)Cl)Cl","CCc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)Cl","Cc1cc([nH]c1C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C","CCOC(=O)c1nnc(s1)N2CCC(CC2)NC(=O)c3cc(c([nH]3)C)Br","CCOC(=O)c1csc(n1)N2CCC(CC2)NC(=O)c3cc(c([nH]3)C)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3c(cccn3)Cl)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3nnc(s3)C(=O)O)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3nc(cs3)C(=O)O)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3ncc(s3)C(=O)N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3nc(cs3)C#N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3ncc(s3)C#N)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3nnnn3C)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)Cc3nccn3C)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)OC)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NO)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)O)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NN)Br","CCc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)Cl)Cl","Cc1c(cc([nH]1)C(=O)N(C)C2CCN(CC2)c3cc(cc(n3)Cl)c4[nH]nnn4)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)c4nnn(n4)C)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)C(=O)c3cc4c(cccc4[nH]3)C(F)(F)F)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3nc(cs3)C(=O)N)Br","Cc1c(cc([nH]1)C(=O)OC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)Br","CCc1c(c([nH]c1C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C)C","Cc1c(c([nH]c1C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C)Cl","Cc1c(c([nH]c1C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C)C#N","Cc1c(cc([nH]1)C(=O)OC2CCN(CC2)c3cc(cc(n3)Cl)c4[nH]nnn4)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)C(=O)c3cc(c([nH]3)C)Br)Br","CCc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3ncc(s3)C(=O)N)Cl)Cl","CCOC(=O)c1nnc(s1)N2CCC(CC2)NC(=O)c3c(c(c([nH]3)C)Cl)Cl","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N4CCN(CC4)C)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NN(C)C)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NOC)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N4CCOCC4)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N(C)C)Br","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C#N)C(=O)C","CCc1cc(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C#N","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C#N","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)Cl)C(=O)OC)Br","CCc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C#N)Br","CCc1c([nH]c(c1CC)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3ncc(s3)C(=O)N)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C#N)Br","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)c4[nH]nnn4)Cl)Cl","Cc1cc(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N)C#N","Cc1c(c(c([nH]1)C(=O)OC2CCN(CC2)c3cc(cc(n3)Cl)c4[nH]nnn4)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)c4n[nH]c(=O)o4)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)c4ncon4)Cl)Cl","Cc1c(c(c([nH]1)C(=O)OC2CCN(CC2)c3cc(cc(n3)Cl)c4ncon4)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)C#N)C(=O)N)Cl)Cl","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)Cl)C(=O)O)Br","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)Cl)C(=O)O)Cl)Cl","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)Cl)C(=O)NOC)Br","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)Cl)C(=O)OC)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cccc(n3)Cl)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)SC)C(=O)O)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3nc(nc(n3)Cl)OC)Cl)Cl","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)SC)C(=O)O)Br","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)NOC)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)SC)C(=O)NOC)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)N4CCOCC4)C(=O)OC)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)C)Cl)Cl","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N(C)OC)Br","Cc1c(cc([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)Cl)C(=O)N)Br","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)Cl)C(=O)N)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)S(=O)(=O)C)C(=O)NOC)Cl)Cl","Cc1ccc([nH]1)C(=O)NC2CCN(CC2)c3cc(cc(n3)Cl)C(=O)N","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)Cc3nc(cn3C)NC(=O)OC(C)(C)C)Cl)Cl","Cc1c(c(c([nH]1)C(=O)NC2CCN(CC2)c3cc(nc(n3)N4CCOCC4)C(=O)NOC)Cl)Cl"]}},"webServiceRequest":null,"requestId":-1,"tkid":null,"script":"from typing import Optional\n\nfrom df.chem_helper import column_to_molecules, molecules_to_column\nfrom df.data_transfer import DataFunctionRequest, DataFunctionResponse, DataType, ColumnData, \\\n    string_input_field\nfrom rdkit import Chem\nfrom rdkit.Chem.rdDeprotect import Deprotect\nfrom rdkit.Chem.rdchem import Mol\n\n\ndef compare_molecules(mol1: Optional[Mol], mol2: Optional[Mol]) -> bool:\n    if not mol1 or not mol2:\n        return False\n    return Chem.MolToSmiles(mol1, True) != Chem.MolToSmiles(mol2, True)\n\n\ndef execute(request: DataFunctionRequest) -> DataFunctionResponse:\n    column_id = string_input_field(request, 'structureColumn')\n    input_column = request.inputColumns[column_id]\n    input_molecules = column_to_molecules(input_column)\n    deprotected_molecules = [None if m is None else Deprotect(m) for m in input_molecules]\n    changed = [compare_molecules(mol1, mol2) for mol1, mol2 in zip(input_molecules, deprotected_molecules)]\n    output_molecules_column = molecules_to_column(deprotected_molecules, f'Deprotected {input_column.name}', DataType.STRING)\n    changed_column = ColumnData(name='Changed', dataType=DataType.BOOLEAN, values=changed)\n    response = DataFunctionResponse(outputColumns=[output_molecules_column, changed_column])\n    return response\n","updateBehavior":"automatic","allowedClients":["Analyst","WebPlayer"],"limitBy":"none","ironPython":"","chartsFxnType":null,"chartsRequest":null}