{"executorId":0,"id":"38c2d2b4-e073-4c9b-953b-3b764409f927","dataFxnDefId":"2ae35da5-dcb6-4661-8749-d0781b4d278e","serviceName":"BlastWebSearch","assembly":null,"inputFields":{"query":{"id":"query","dataType":"string","contentType":"chemical/x-sequence","selectorType":null,"data":"DIVMSQSPSSLAVSAGEKVTMSCKSSQSLLNSRTRKNYLAWYQQKPGQSPKVLIYWASTRESGVPDRFTGRGSGTDFTLTISSVQAEDQAVYYCKQAYIPPLTFGAGTKLELKRADAAPTVSIFPPSSEQLTSGGASVVCFLNNFYPKDINVKWKIDGSERQNGVLNSWTDQDSKDSTYSMSSTLTLTKDEYERHNSYTCEATHKTSTSPIVKSFNRNEX"},"databaseName":{"id":"databaseName","dataType":"string","contentType":null,"selectorType":null,"data":"pdb"},"maxHits":{"id":"maxHits","dataType":"integer","contentType":null,"selectorType":null,"data":100},"showMultipleAlignments":{"id":"showMultipleAlignments","dataType":"boolean","contentType":null,"selectorType":null,"data":true}},"maximumOutputColumns":10,"maximumOutputTables":1,"resultTables":null,"serviceUri":"glysade.python","inputColumns":{},"webServiceRequest":null,"requestId":-1,"tkid":null,"script":null,"updateBehavior":"manual","allowedClients":["Analyst","WebPlayer"],"limitBy":"none","ironPython":"############################################\n#  Copyright 2017, 2018, 2019 Glysade LLC  #\n############################################\n\nimport sys,clr\nfrom Spotfire.Dxp.Data import DataTable, DataManager\nfrom Spotfire.Dxp.Application import PanelTypeIdentifiers\nfrom Spotfire.Dxp.Application import Panel\nimport Spotfire.Dxp.Application.PanelCollection\n\nfrom System import AppDomain\nfor asm in AppDomain.CurrentDomain.GetAssemblies():\n  if asm.FullName.StartsWith('Charts,'):\n      clr.AddReference(asm.FullName)\n\nfrom Charts import ChartsModel\nmodel_type = ChartsModel\n\n#tableId pass in args\ndataTable = None\n\nfor table in Document.Data.Tables:\n    if str(table.Id) == tableId:\n        dataTable = table\n\nif not dataTable:\n    raise Exception('target table not found')\n\npage = Document.Pages.AddNew('Blast Results')\npanelsToHide = [PanelTypeIdentifiers.DataPanel, PanelTypeIdentifiers.DetailsOnDemandPanel, PanelTypeIdentifiers.FilterPanel]\n\nfor panel in page.Panels:\n    if panel.TypeId in panelsToHide:\n        if panel.Visible:\n            panel.Visible = False\n        \n\nfilteringScheme = Document.FilteringSchemes[0]\npage.FilterPanel.FilteringSchemeReference = filteringScheme\n# dataTable = Document.ActiveDataTableReference\n# filterCollection = filteringScheme[dataTable]\n\ntableVis = page.Visuals.AddNew[model_type]()\ntableVis.SetKeyValue('visualization','table-visualization')\ntableVis.DataTable = dataTable\ntableVis.ConfigureColumns()\ntableVis.Marking = Document.Data.Markings.DefaultMarkingReference\n\nthreeDVis = page.Visuals.AddNew[model_type]()\nthreeDVis.SetKeyValue('visualization','molviewer-visualization')\nthreeDVis.DataTable = dataTable\nthreeDVis.ConfigureColumns()\nthreeDVis.Marking = Document.Data.Markings.DefaultMarkingReference\n\ntableVis.SetActiveVisual()","chartsFxnType":null,"chartsRequest":null}